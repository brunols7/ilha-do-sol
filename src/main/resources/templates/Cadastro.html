<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cadastro</title>
    <link rel="stylesheet" th:href="@{/css/Cadastro.css}"/>
  </head>
  <body>
    <div class="container-geral-Cadastro">
      <div class="box-image">
        <img th:src="@{/img/logo.png}" alt="Logo" />
      </div>
      <div class="box-Cadastro">
        <h1>CADASTRO</h1>
        <form action="/cadastro" method="POST">
          <div class="box-text">
            <label for="username">Nome:</label>
            <input type="text" id="username" name="username" required />
          </div>

          <br />
          <div class="box-text">
            <label for="email">E-mail:</label>
            <input type="email" id="email" name="email" required />
          </div>

          <br />
          <div class="box-text">
            <label for="cpf">CPF:</label>
            <input type="text" id="cpf" name="cpf" maxlength="11" required />
          </div>

          <br />
          <div class="box-text">
            <label for="password">Password:</label>
            <input type="password" id="password" name="password" required />
          </div>
          <br />
          <button type="submit">CADASTRAR</button>
          <br />
        </form>

        <p>
          Já possui uma conta? <a th:href="@{/login}">Realize o Login aqui!</a>
        </p>
      </div>
    </div>
    <script>
      // Validação do formulário de cadastro
      document.querySelector('form').addEventListener('submit', function(event) {
        const username = document.getElementById('username').value.trim();
        const email = document.getElementById('email').value.trim();
        const cpf = document.getElementById('cpf').value.trim();
        const password = document.getElementById('password').value.trim();

        // Verifica se todos os campos estão vazios
        if (!username && !email && !cpf && !password) {
          event.preventDefault();
          alert('Por favor, preencha todos os campos!');
          return false;
        }

        // Verifica cada campo individualmente
        if (!username) {
          event.preventDefault();
          alert('Por favor, preencha o nome!');
          return false;
        }

        if (!email) {
          event.preventDefault();
          alert('Por favor, preencha o e-mail!');
          return false;
        }

        if (!cpf) {
          event.preventDefault();
          alert('Por favor, preencha o CPF!');
          return false;
        }

        if (cpf.length !== 11 || !/^\d+$/.test(cpf)) {
          event.preventDefault();
          alert('Por favor, preencha um CPF válido com 11 dígitos!');
          return false;
        }

        if (!password) {
          event.preventDefault();
          alert('Por favor, preencha a senha!');
          return false;
        }
      });
    </script>
  </body>
</html>
